
R version 2.11.0 Under development (unstable) (--)
Copyright (C)  The R Foundation for Statistical Computing
ISBN 3-900051-07-0

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(NMMAPSlite)
Loading required package: stashR
Loading required package: filehash
filehash: Simple key-value database (2.1 2010-02-04)
A Set of Tools for Administering SHared Repositories (0.3-3 2009-03-26)
NMMAPS Data Lite (0.3-2 2010-02-15)
Initialize database using 'initDB'
> 
> initDB("NMMAPS")
creating directory 'NMMAPS' for local storage
> 
> try({
+         cityList <- listCities()
+         print(cityList)
+ })
  [1] "akr"  "albu" "anch" "arlv" "atla" "aust" "bake" "balt" "batr" "bidd"
 [11] "birm" "bost" "buff" "cayc" "cdrp" "char" "chic" "cinc" "clev" "clmg"
 [21] "clmo" "colo" "corp" "covt" "dayt" "dc"   "denv" "desm" "det"  "dlft"
 [31] "elpa" "evan" "fres" "ftwa" "gdrp" "grnb" "hono" "hous" "hunt" "indi"
 [41] "jcks" "jckv" "jers" "john" "kan"  "kans" "king" "knox" "la"   "lafy"
 [51] "lasv" "lex"  "linc" "lkch" "loui" "ltrk" "lubb" "madi" "memp" "miam"
 [61] "milw" "minn" "mobi" "mode" "musk" "nash" "new"  "no"   "nor"  "nwk" 
 [71] "ny"   "oakl" "okla" "olym" "oma"  "orla" "phil" "phoe" "pitt" "port"
 [81] "prov" "ral"  "rich" "rive" "roch" "sacr" "salt" "sana" "sanb" "sand"
 [91] "sanf" "sanj" "seat" "shr"  "spok" "staa" "stlo" "stoc" "stpe" "syra"
[101] "taco" "tamp" "tole" "tope" "tucs" "tuls" "wich" "wor" 
> 
> try({
+         ## Read from web
+         ny <- readCity("ny", asDataFrame = FALSE)
+         str(ny)
+ 
+         ## Read from cache
+         ny <- readCity("ny", asDataFrame = FALSE)
+ })
List of 2
 $ exposure:'data.frame':	5114 obs. of  202 variables:
  ..$ city         : chr [1:5114] "ny" "ny" "ny" "ny" ...
  ..$ date         :Class 'Date'  num [1:5114] 6209 6210 6211 6212 6213 ...
  ..$ dow          : Factor w/ 7 levels "Sunday","Monday",..: 5 6 7 1 2 3 4 5 6 7 ...
  ..$ tmpd         : num [1:5114] 34.5 36.5 35.8 30.2 31.8 ...
  ..$ tmax         : num [1:5114] 38 41 41 35 38 39 47 39 39 43 ...
  ..$ tmin         : num [1:5114] 30 33 31 26 26 27 36 32 34 33 ...
  ..$ tmean        : num [1:5114] 35 34.6 35.1 32.1 34.4 ...
  ..$ dptp         : num [1:5114] 33.2 29.8 23.3 20.4 21.6 ...
  ..$ rhum         : num [1:5114] 93.2 83.3 62.5 62.3 59.8 ...
  ..$ mxrh         : num [1:5114] 96 96 85.5 76.5 67 80.5 86 59 68.5 98 ...
  ..$ mnrh         : num [1:5114] 56.5 71.5 55 56 49 58.5 49 41.5 52.5 62 ...
  ..$ pm10mean     : num [1:5114] NA NA -16.2 NA NA ...
  ..$ pm10n        : num [1:5114] 0 0 6 0 0 0 0 0 6 0 ...
  ..$ pm10median   : num [1:5114] NA NA -17 NA NA ...
  ..$ pm10max1     : num [1:5114] NA NA 26 NA NA NA NA NA 56 NA ...
  ..$ pm10max2     : num [1:5114] NA NA 22 NA NA NA NA NA 45 NA ...
  ..$ pm10max3     : num [1:5114] NA NA 19 NA NA NA NA NA 38 NA ...
  ..$ pm10max4     : num [1:5114] NA NA 17 NA NA NA NA NA 32 NA ...
  ..$ pm10max5     : num [1:5114] NA NA 16 NA NA NA NA NA 30 NA ...
  ..$ pm10trend    : num [1:5114] 33.1 33.1 33.1 33.1 33.1 ...
  ..$ pm10mtrend   : num [1:5114] 30.2 30.2 30.2 30.2 30.2 ...
  ..$ pm10grandmean: num [1:5114] 30.4 30.4 30.4 30.4 30.4 ...
  ..$ pm10tmean    : num [1:5114] NA NA -17.1 NA NA ...
  ..$ pm10meanmax  : num [1:5114] NA NA 19 NA NA ...
  ..$ pm25mean     : num [1:5114] NA NA -11.2 NA NA ...
  ..$ pm25n        : num [1:5114] 0 0 3 0 0 0 0 0 3 0 ...
  ..$ pm25median   : num [1:5114] NA NA -10.1 NA NA ...
  ..$ pm25max1     : num [1:5114] NA NA 15 NA NA NA NA NA 34 NA ...
  ..$ pm25max2     : num [1:5114] NA NA 14 NA NA NA NA NA 30 NA ...
  ..$ pm25max3     : num [1:5114] NA NA 12 NA NA NA NA NA 24 NA ...
  ..$ pm25max4     : num [1:5114] NA NA NA NA NA NA NA NA NA NA ...
  ..$ pm25max5     : num [1:5114] NA NA NA NA NA NA NA NA NA NA ...
  ..$ pm25trend    : num [1:5114] 18.4 18.4 18.4 18.4 18.4 ...
  ..$ pm25mtrend   : num [1:5114] 16.1 16.1 16.1 16.1 16.1 ...
  ..$ pm25grandmean: num [1:5114] 22.9 22.9 22.9 22.9 22.9 ...
  ..$ pm25tmean    : num [1:5114] NA NA -10.1 NA NA ...
  ..$ pm25meanmax  : num [1:5114] NA NA 13.7 NA NA ...
  ..$ o3mean       : num [1:5114] -14.67 -11.31 -7.52 -8.84 -10.02 ...
  ..$ o3n          : num [1:5114] 4 4 4 4 4 4 4 4 4 4 ...
  ..$ o3median     : num [1:5114] -13.95 -9.07 -6.87 -9.7 -11.24 ...
  ..$ o3h0         : num [1:5114] 3.75 16.5 14 17 11.5 5.5 9.5 14.5 6.5 3.75 ...
  ..$ o3h1         : num [1:5114] 3.25 18.75 14.75 17.75 12.25 ...
  ..$ o3h2         : num [1:5114] 5 20.2 16 17.2 14.8 ...
  ..$ o3h3         : num [1:5114] 5 20.5 16.5 18 16 4 9.25 21.5 5.5 2.75 ...
  ..$ o3h4         : num [1:5114] 6 21.2 15.8 14 16.8 ...
  ..$ o3h5         : num [1:5114] 4.5 20.8 15.8 11.2 15.8 ...
  ..$ o3h6         : num [1:5114] 6.25 19 12.75 14.5 14.25 ...
  ..$ o3h7         : num [1:5114] 8.25 16 11.25 14.25 12.75 ...
  ..$ o3h8         : num [1:5114] 8 14 12 15.2 12.3 ...
  ..$ o3h9         : num [1:5114] 13 18 14.2 16.8 17 ...
  ..$ o3h10        : num [1:5114] 14.8 9 16.8 17.2 18.8 ...
  ..$ o3h11        : num [1:5114] 15.5 6 19 19 21 ...
  ..$ o3h12        : num [1:5114] 14.5 6.5 18.2 20.2 20.8 ...
  ..$ o3h13        : num [1:5114] 10.25 7.75 19.5 19.75 20 ...
  ..$ o3h14        : num [1:5114] 8 9.25 20.5 18.25 19.25 ...
  ..$ o3h15        : num [1:5114] 7.25 8 19 14 16.25 ...
  ..$ o3h16        : num [1:5114] 7.25 9.5 17.25 11.75 13 ...
  ..$ o3h17        : num [1:5114] 8.25 5 15.75 11.5 10.5 ...
  ..$ o3h18        : num [1:5114] 8.25 5.75 13.75 13 6.75 ...
  ..$ o3h19        : num [1:5114] 8.25 6.25 15.25 10.75 9.25 ...
  ..$ o3h20        : num [1:5114] 9.5 8.5 17.5 11.25 7.25 ...
  ..$ o3h21        : num [1:5114] 12.25 9 17 11 6.25 ...
  ..$ o3h22        : num [1:5114] 13.8 10.5 16.8 11 8 ...
  ..$ o3h23        : num [1:5114] 15 13.5 18 10.75 5.25 ...
  ..$ o3max1       : num [1:5114] 25 27 24 29 28 20 26 25 17 22 ...
  ..$ o3max2       : num [1:5114] 24 27 24 26 28 17 22 24 15 19 ...
  ..$ o3max3       : num [1:5114] 23 26 24 26 28 15 20 24 15 17 ...
  ..$ o3max4       : num [1:5114] 23 26 23 26 28 15 20 24 13 13 ...
  ..$ o3max5       : num [1:5114] 23 25 23 25 27 15 19 23 12 13 ...
  ..$ o3trend      : num [1:5114] 21.3 21.3 21.3 21.3 21.3 ...
  ..$ o3mtrend     : num [1:5114] 20.4 20.4 20.4 20.4 20.4 ...
  ..$ o3grandmean  : num [1:5114] 22 22 22 22 22 ...
  ..$ o3tmean      : num [1:5114] -13.95 -9.07 -6.87 -9.7 -11.24 ...
  ..$ o3meanmax    : num [1:5114] 20 23 21.8 22.8 23 ...
  ..$ so2mean      : num [1:5114] 6.571 0.245 -1.616 3.925 11.261 ...
  ..$ so2n         : num [1:5114] 12 12 12 12 12 12 12 12 12 12 ...
  ..$ so2median    : num [1:5114] 5.55 1.22 -1.68 4.14 10.06 ...
  ..$ so2h0        : num [1:5114] 19.08 10.08 16.5 7.17 34.83 ...
  ..$ so2h1        : num [1:5114] 19.67 10.33 16.25 7.25 36.25 ...
  ..$ so2h2        : num [1:5114] 17.92 10.67 15.33 7.08 32.75 ...
  ..$ so2h3        : num [1:5114] 18 8.58 14.42 8.58 27.33 ...
  ..$ so2h4        : num [1:5114] 16.75 8.58 14.25 9.33 24.08 ...
  ..$ so2h5        : num [1:5114] 18.9 10.6 15.3 13.8 30.2 ...
  ..$ so2h6        : num [1:5114] 23.6 13.7 15.9 17.3 38.2 ...
  ..$ so2h7        : num [1:5114] 27 18.1 17.4 21.8 35.4 ...
  ..$ so2h8        : num [1:5114] 30.2 23.8 18.4 25 34.7 ...
  ..$ so2h9        : num [1:5114] 29.5 9 15.8 25.1 28.6 ...
  ..$ so2h10       : num [1:5114] 28.2 11 16.3 25.1 22.8 ...
  ..$ so2h11       : num [1:5114] 26.9 19.5 14.8 17.6 20.2 ...
  ..$ so2h12       : num [1:5114] 33.6 19.7 12.9 17.8 19.1 ...
  ..$ so2h13       : num [1:5114] 31.6 16.3 12.4 13.8 20.7 ...
  ..$ so2h14       : num [1:5114] 30.5 16.5 11.2 12.2 23.9 ...
  ..$ so2h15       : num [1:5114] 26.2 14.1 10.7 13 20.4 ...
  ..$ so2h16       : num [1:5114] 18.9 15.9 11.6 15.2 18.3 ...
  ..$ so2h17       : num [1:5114] 15.2 16.8 12.2 15.1 19.3 ...
  ..$ so2h18       : num [1:5114] 17.2 16.6 12.6 19.1 21.4 ...
  ..$ so2h19       : num [1:5114] 18.5 19.1 12.6 25.2 23.2 ...
  ..$ so2h20       : num [1:5114] 16.4 20.2 11.3 29.7 25 ...
  ..$ so2h21       : num [1:5114] 14 18.8 10.3 37.3 27.6 ...
  .. [list output truncated]
 $ outcome :'data.frame':	15342 obs. of  18 variables:
  ..$ accident    : int [1:15342] 10 4 5 5 2 1 5 2 6 5 ...
  ..$ copd        : int [1:15342] 3 4 0 1 2 2 4 0 0 1 ...
  ..$ cvd         : int [1:15342] 22 20 17 18 14 18 17 16 25 20 ...
  ..$ death       : int [1:15342] 73 68 56 55 60 80 64 63 64 65 ...
  ..$ inf         : int [1:15342] 0 0 0 0 0 0 0 0 0 0 ...
  ..$ pneinf      : int [1:15342] 3 1 3 2 2 1 1 2 5 2 ...
  ..$ pneu        : int [1:15342] 3 1 3 2 2 1 1 2 5 2 ...
  ..$ resp        : int [1:15342] 6 5 3 3 4 3 5 2 5 3 ...
  ..$ markaccident: int [1:15342] 0 0 0 0 0 0 0 0 0 0 ...
  ..$ markcopd    : int [1:15342] 0 0 0 0 0 0 0 0 0 0 ...
  ..$ markcvd     : int [1:15342] 0 0 0 0 0 0 0 0 0 0 ...
  ..$ markdeath   : int [1:15342] 0 0 0 0 0 0 0 0 0 0 ...
  ..$ markinf     : int [1:15342] 0 0 0 0 0 0 0 0 0 0 ...
  ..$ markpneinf  : int [1:15342] 0 0 0 0 0 0 0 0 0 0 ...
  ..$ markpneu    : int [1:15342] 0 0 0 0 0 0 0 0 0 0 ...
  ..$ markresp    : int [1:15342] 0 0 0 0 0 0 0 0 0 0 ...
  ..$ date        :Class 'Date'  num [1:15342] 6209 6210 6211 6212 6213 ...
  ..$ agecat      : Factor w/ 3 levels "under65","65to74",..: 1 1 1 1 1 1 1 1 1 1 ...
> 
> try({
+         meta <- getMetaData()
+         print(meta)
+ })
[1] "agecat"     "citycensus" "dow"        "cities"     "counties"  
[6] "latlong"    "regions"    "variables"  "siteList"  
> 
> 
> 
